/*
 * jQuery Sticky Header v0.8.0 (https://github.com/the-software-factory/jquery-sticky-header)
 * Copyright (c) 2015 Vendini srl <vendini@pec.it>
 * Licensed under MIT (https://github.com/the-software-factory/jquery-sticky-header/blob/master/LICENSE.md)
 */
!function(a){a.fn.stickyHeader=function(b){var c=a.extend({},a.fn.stickyHeader.defaults,b),d=0;return this.each(function(){a(this).attr(c.headerAttribute,"").hide(),0===a(this).find("["+c.headerContainerAttribute+"]").length&&a(this).attr(c.headerContainerAttribute,""),a("["+c.headerContainerAttribute+"]").empty();var b=new a.fn.stickyHeader.Container(a("["+c.headerContainerAttribute+"]"),c);a(window).scroll(function(){a("["+c.itemAttribute+"]").each(function(){var e=new a.fn.stickyHeader.Item(this,c);if(!e.getId()){e.setId(++d);var f=new MutationObserver(function(d){d.forEach(function(d){for(var e=0;e<d.removedNodes.length;e++){var f=new a.fn.stickyHeader.Item(d.removedNodes[e],c);if(f.isRemoved())return;b.has(f)&&(f.setAsRemoved(),b.remove(f))}})});f.observe(a("["+c.itemAttribute+"]").parent().toArray()[0],{childList:!0,subtree:!0})}!e.isHidden(window,b)&&b.has(e)?b.remove(e):e.isHidden(window,b)&&!b.has(e)&&b.add(e)})}),window.onhashchange=function(){var d=b.getSlots().toArray();for(var e in d){var f=a(d[e]).children().toArray();for(var g in f)b.remove(new a.fn.stickyHeader.Item(f[g],c))}a(window).scroll()}})},a.fn.stickyHeader.Container=function(b,c){this.add=function(d){var e="undefined"==typeof d.getPosition()?"L":d.getPosition();0===this.getSlot(e).length&&this.addSlot(e);var f=a(d.getHtml()).removeAttr(c.itemAttribute);void 0===f.attr(c.itemIdAttribute)&&f.attr(c.itemIdAttribute,d.getId()),a(this.getSlot(e)).append(f),a(b).parents().find("["+c.headerAttribute+"]").show()},this.remove=function(d){a(b).find("["+c.itemIdAttribute+'="'+d.getId()+'"]').remove(),0===a(b).find("["+c.itemIdAttribute+"]").length&&a(b).parents().find("["+c.headerAttribute+"]").hide()},this.getTopPaddings=function(){0===a(b).children().length&&a(b).append(a("<div></div>").attr("id","dummy-slot"));var d=a(b).children().first().parents();a(b).find("[id=dummy-slot]").remove();for(var e=0,f=0;f<d.length&&(e+=parseInt(a(d[f]).css("padding-top").replace("px","")),"undefined"==typeof a(d[f]).attr(c.headerAttribute));f++);return e},this.has=function(d){return a(b).find("["+c.itemIdAttribute+'="'+d.getId()+'"]').length>0},this.addSlot=function(d){if("L"===d)a(b).prepend("<div "+c.headerSlotPositionAttribute+'="L"></div>');else if("R"===d)a(b).append("<div "+c.headerSlotPositionAttribute+'="R"></div>');else{var e=a("<div "+c.headerSlotPositionAttribute+'="C"></div>');1===this.getSlot("L").length?(e.insertAfter(a(b).find("["+c.headerSlotPositionAttribute+'="L"]')),0===this.getSlot("R").length&&this.addSlot("R")):1===this.getSlot("R").length?(e.insertBefore(a(b).find("["+c.headerSlotPositionAttribute+'="R"]')),0===this.getSlot("L").length&&this.addSlot("L")):a(b).append(e)}},this.getSlot=function(d){return a(b).find("["+c.headerSlotPositionAttribute+"="+d+"]")},this.getSlots=function(){return a(b).children()}},a.fn.stickyHeader.Item=function(b,c){this.isHidden=function(c,d){return a(c).scrollTop()>a(b).offset().top-d.getTopPaddings()},this.setId=function(d){a(b).attr(c.itemIdAttribute,d)},this.getId=function(){return a(b).attr(c.itemIdAttribute)},this.getPosition=function(){return JSON.parse(a(b).attr(c.itemAttribute)).position},this.getHtml=function(){var d=JSON.parse(a(b).attr(c.itemAttribute));return"string"==typeof d.html?d.html:a(b).clone(!0)},this.isRemoved=function(){return"1"===a(b).attr(c.itemRemovedAttribute)},this.setAsRemoved=function(){a(b).attr(c.itemRemovedAttribute,"1")}},a.fn.stickyHeader.defaults={headerAttribute:"data-sticky-header",headerContainerAttribute:"data-sticky-header-container",headerSlotPositionAttribute:"data-sticky-header-slot-position",itemAttribute:"data-sticky-header-item",itemRemovedAttribute:"data-sticky-header-item-removed",itemIdAttribute:"data-sticky-header-item-id"}}(jQuery);